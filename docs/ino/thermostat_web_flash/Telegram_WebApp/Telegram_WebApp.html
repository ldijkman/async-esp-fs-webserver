<!DOCTYPE html>
<html>
<head>
    <title>Task Scheduler</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h2>Schedule a Task</h2>
    <form id="scheduleForm">
        <label for="taskTime">Task Time (HH:MM):</label>
        <input type="time" id="taskTime" name="taskTime" required>
        <label for="duration">Duration (minutes):</label>
        <input type="number" id="duration" name="duration" min="1" required>
        <button type="submit">Schedule Task</button>
    </form>
    <div id="confirmationMessage" style="display:none;">
        <p>Task scheduled successfully!</p>
    </div>
    <script>
        document.getElementById('scheduleForm').onsubmit = function(e) {
            e.preventDefault();
            const time = document.getElementById('taskTime').value;
            const duration = document.getElementById('duration').value;
            
            // Use Telegram Web App API to send data back to the bot
            Telegram.WebApp.sendData(JSON.stringify({time: time, duration: duration})).then(() => {
                // Display confirmation message
                document.getElementById('scheduleForm').style.display = 'none'; // Hide the form
                document.getElementById('confirmationMessage').style.display = 'block'; // Show confirmation
                
                // Optionally, close the Web App after a short delay
                setTimeout(() => {
                    Telegram.WebApp.close(); // Close the Web App
                }, 2000); // Adjust delay as needed
            });
        };
    </script>
</body>
</html>
