Would like to make a thermostat webserver 

with mDNS

so that it is in the mdns scan overview list

of all ESP webservers in my network

https://plnkr.co/edit/1zvCbJPU1aP9OReb?preview

![Screenshot from 2024-04-21 14-04-24](https://github.com/ldijkman/async-esp-fs-webserver/assets/45427770/5537bb67-0299-42f5-a008-440bb1131b20)

https://plnkr.co/edit/1zvCbJPU1aP9OReb?preview


![Screenshot from 2024-04-27 07-33-28](https://github.com/ldijkman/async-esp-fs-webserver/assets/45427770/1d1179ac-5974-4d2a-9d8a-b196933e118e)


2 browser sclients update on changes
![Screenshot from 2024-04-27 08-38-58](https://github.com/ldijkman/async-esp-fs-webserver/assets/45427770/52bc198b-5c25-4efc-8f5b-3fa4bb2d29f9)
2 browser sclients update on changes

---
3 browser windows
if a change is made in one, the others update

![Screenshot from 2024-04-27 09-15-21](https://github.com/ldijkman/async-esp-fs-webserver/assets/45427770/230b5bb4-5eba-48fd-9754-c1508e8be820)

---
some preset buttons
![Screenshot from 2024-04-28 04-43-22](https://github.com/ldijkman/async-esp-fs-webserver/assets/45427770/1a307f7c-d97e-431f-899e-8947bd53dca3)


---

![Screenshot from 2024-04-28 05-40-02](https://github.com/ldijkman/async-esp-fs-webserver/assets/45427770/b5ad5036-b75a-4d47-a8c7-caeccd94cae9)

---
phone screenshot

<img src="https://raw.githubusercontent.com/ldijkman/async-esp-fs-webserver/master/docs/ino/thermostat_web_flash/Screenshot_Phone_Chrome.jpg" width="250px">


---

http://thermostat.local

Android Bonjour mDNS Scanner

Easy find your ESP devices on Android

https://play.google.com/store/apps/details?id=de.wellenvogel.bonjourbrowser&pli=1



<img src="https://raw.githubusercontent.com/ldijkman/async-esp-fs-webserver/master/docs/ino/thermostat_web_flash/Screenshot_BonjourBrowser.jpg" width="250px">


http://thermostat.local

Android Bonjour mDNS Scanner

Easy find your ESP devices on Android

https://play.google.com/store/apps/details?id=de.wellenvogel.bonjourbrowser&pli=1

---

# Me too ChatGPT 
## can you get the temperature every minut and store it in browser storage and make a graphic from it

<div class="flex gap-2 py-2.5 flex-row"><div class="text-xs text-[#6b7684] text-right"><div class="relative flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32"><g fill="none" fill-rule="evenodd"><path fill="#6436E2" d="M12 0c2.309 0 4.412.564 6.19 1.572a11.208 11.208 0 0 1 4.238 4.238C23.436 7.588 24 9.691 24 12c0 2.309-.564 4.412-1.572 6.19a11.208 11.208 0 0 1-4.238 4.238C16.412 23.436 14.309 24 12 24c-2.309 0-4.412-.564-6.19-1.572a11.208 11.208 0 0 1-4.238-4.238C.564 16.412 0 14.309 0 12c0-2.309.564-4.412 1.572-6.19A11.208 11.208 0 0 1 5.81 1.572C7.588.564 9.691 0 12 0z"></path><path fill="#FFF" d="M18.233 13.357a2.678 2.678 0 0 1-.55 1.406 2.733 2.733 0 0 1-1.23.896v-3.411a.46.46 0 0 0-.237-.408l-3.548-2.021 1.228-.7a.044.044 0 0 1 .041-.004l2.938 1.674c.45.257.817.634 1.058 1.09.24.454.344.967.3 1.478zm-2.735 2.203c-.001.715-.29 1.4-.802 1.906a2.757 2.757 0 0 1-3.682.168 2.14 2.14 0 0 0 .087-.048l2.906-1.656a.47.47 0 0 0 .238-.408V11.48l1.229.7a.044.044 0 0 1 .016.013.045.045 0 0 1 .008.02v3.347zM8.55 17.038a2.733 2.733 0 0 1-1.661-1.256 2.659 2.659 0 0 1-.326-1.808l.086.05 2.906 1.657a.478.478 0 0 0 .477 0l3.548-2.021v1.4a.043.043 0 0 1-.018.036l-2.937 1.674a2.77 2.77 0 0 1-2.075.268zM5.853 11.57a2.67 2.67 0 0 1 .272-2.047A2.716 2.716 0 0 1 7.548 8.34l-.001.099v3.312a.461.461 0 0 0 .238.408l3.548 2.02-1.228.7a.045.045 0 0 1-.042.004l-2.938-1.675a2.706 2.706 0 0 1-1.272-1.638zm2.648-3.131c0-.513.148-1.015.427-1.448a2.724 2.724 0 0 1 1.148-.995 2.769 2.769 0 0 1 2.91.37 2.18 2.18 0 0 0-.086.049L9.994 8.07a.47.47 0 0 0-.239.407l-.002 4.041-1.228-.7a.043.043 0 0 1-.024-.033V8.44zm3.5 1.76 1.58.9v1.8l-1.58.9-1.58-.9v-1.8l1.58-.9zm2.859-3.327a2.76 2.76 0 0 1 1.447.482c.426.293.759.7.959 1.173.2.473.26.992.172 1.498a3.618 3.618 0 0 0-.086-.051l-2.906-1.656a.478.478 0 0 0-.477 0l-3.548 2.02V8.94c0-.007 0-.014.004-.02a.043.043 0 0 1 .014-.017l2.937-1.672c.45-.256.965-.38 1.484-.358zm4.32 5.875a3.607 3.607 0 0 0-.93-2.054 3.543 3.543 0 0 0-.312-2.946 3.66 3.66 0 0 0-1.692-1.508 3.723 3.723 0 0 0-2.268-.233 3.633 3.633 0 0 0-1.24-.895 3.679 3.679 0 0 0-1.502-.31 3.712 3.712 0 0 0-2.17.691 3.631 3.631 0 0 0-1.338 1.82c-.507.103-.987.31-1.406.611-.42.3-.769.685-1.025 1.13a3.589 3.589 0 0 0 .452 4.254 3.544 3.544 0 0 0 .313 2.946 3.66 3.66 0 0 0 1.692 1.507 3.723 3.723 0 0 0 2.268.234c.344.382.766.687 1.239.895a3.68 3.68 0 0 0 1.503.31c.78.003 1.54-.24 2.17-.691a3.63 3.63 0 0 0 1.339-1.822c.507-.102.987-.31 1.406-.61.42-.3.769-.686 1.025-1.13.39-.665.557-1.435.476-2.2z"></path></g></svg></div></div><div class="max-w-[85%] px-3 break-words text-[#191f28] leading-6 rounded-xl py-2.5 mr-auto rounded-tl-md bg-white"><div class="prose max-w-[100%] break-words"><p>Yes, you can fetch the temperature every minute, store it in the browser's local storage, and then use that data to create a graph. This process involves several steps:</p>
<ol>
<li><strong>Fetching and Storing Temperature Data</strong>: Use JavaScript to periodically fetch temperature data from your ESP8266 and store it in the browser's local storage.</li>
<li><strong>Retrieving Stored Data</strong>: Access the stored temperature data from local storage when needed.</li>
<li><strong>Creating a Graph</strong>: Use a JavaScript library like Chart.js to create a graph from the stored temperature data.</li>
</ol>
<h3>Step 1: Fetching and Storing Temperature Data</h3>
<p>You already have the mechanism to receive temperature updates via WebSocket. To store the received temperature in the browser's local storage and keep updating it every minute, you can modify the <code>ws.onmessage</code> function:</p>
<pre class="scrollbar-thin scrollbar-thumb-[#33435a] scrollbar-track-[#1f2937]"><div style="color: rgb(248, 248, 242); background: rgb(43, 43, 43); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto; border-radius: 0.3em;"><code class="language-javascript" style="color: rgb(248, 248, 242); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span>ws</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method-variable function-variable method property-access" style="color: rgb(255, 215, 0);">onmessage</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">function</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token parameter">event</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>    </span><span class="token console class-name">console</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">log</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">'Message Received:'</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span> event</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token property-access">data</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span><span>    </span><span class="token" style="color: rgb(0, 224, 224);">var</span><span> data </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> event</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token property-access">data</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">split</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">':'</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span><span>    </span><span class="token control-flow" style="color: rgb(0, 224, 224);">if</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">(</span><span>data</span><span class="token" style="color: rgb(254, 254, 254);">[</span><span class="token" style="color: rgb(0, 224, 224);">0</span><span class="token" style="color: rgb(254, 254, 254);">]</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">===</span><span> </span><span class="token" style="color: rgb(171, 227, 56);">"temperature"</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>        </span><span class="token" style="color: rgb(0, 224, 224);">var</span><span> temperature </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> </span><span class="token" style="color: rgb(255, 215, 0);">parseFloat</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span>data</span><span class="token" style="color: rgb(254, 254, 254);">[</span><span class="token" style="color: rgb(0, 224, 224);">1</span><span class="token" style="color: rgb(254, 254, 254);">]</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span><span>        </span><span class="token dom" style="color: rgb(0, 224, 224);">document</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">getElementById</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">"temperature"</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token property-access">innerHTML</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> temperature </span><span class="token" style="color: rgb(0, 224, 224);">+</span><span> </span><span class="token" style="color: rgb(171, 227, 56);">" °C"</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span>        
<span>        </span><span class="token" style="color: rgb(212, 208, 171);">// Get existing temperature data from local storage</span><span>
</span><span>        </span><span class="token" style="color: rgb(0, 224, 224);">var</span><span> tempData </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> </span><span class="token known-class-name class-name">JSON</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">parse</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token dom" style="color: rgb(0, 224, 224);">localStorage</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">getItem</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">'temperatureData'</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">||</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">[</span><span class="token" style="color: rgb(254, 254, 254);">]</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span>        
<span>        </span><span class="token" style="color: rgb(212, 208, 171);">// Add the new temperature data point with a timestamp</span><span>
</span><span>        tempData</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">push</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(254, 254, 254);">{</span><span class="token literal-property" style="color: rgb(255, 160, 122);">time</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">new</span><span> </span><span class="token class-name">Date</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">toISOString</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span> </span><span class="token literal-property" style="color: rgb(255, 160, 122);">value</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> temperature</span><span class="token" style="color: rgb(254, 254, 254);">}</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span>        
<span>        </span><span class="token" style="color: rgb(212, 208, 171);">// Store the updated array back to local storage</span><span>
</span><span>        </span><span class="token dom" style="color: rgb(0, 224, 224);">localStorage</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">setItem</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">'temperatureData'</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span> </span><span class="token known-class-name class-name">JSON</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">stringify</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span>tempData</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span><span>    </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span>
</span><span></span><span class="token" style="color: rgb(254, 254, 254);">}</span><span class="token" style="color: rgb(254, 254, 254);">;</span></code></div></pre>
<h3>Step 2: Retrieving Stored Data</h3>
<p>When you want to create or update the graph, retrieve the temperature data from local storage:</p>
<pre class="scrollbar-thin scrollbar-thumb-[#33435a] scrollbar-track-[#1f2937]"><div style="color: rgb(248, 248, 242); background: rgb(43, 43, 43); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto; border-radius: 0.3em;"><code class="language-javascript" style="color: rgb(248, 248, 242); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token" style="color: rgb(0, 224, 224);">var</span><span> tempData </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> </span><span class="token known-class-name class-name">JSON</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">parse</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token dom" style="color: rgb(0, 224, 224);">localStorage</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">getItem</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">'temperatureData'</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">||</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">[</span><span class="token" style="color: rgb(254, 254, 254);">]</span><span class="token" style="color: rgb(254, 254, 254);">;</span></code></div></pre>
<h3>Step 3: Creating a Graph</h3>
<p>To create a graph, you can use Chart.js or any other charting library. First, ensure you have included Chart.js in your HTML:</p>
<pre class="scrollbar-thin scrollbar-thumb-[#33435a] scrollbar-track-[#1f2937]"><div style="color: rgb(248, 248, 242); background: rgb(43, 43, 43); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto; border-radius: 0.3em;"><code class="language-html" style="color: rgb(248, 248, 242); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token" style="color: rgb(254, 254, 254);">&lt;</span><span class="token" style="color: rgb(255, 160, 122);">script</span><span class="token" style="color: rgb(255, 160, 122);"> </span><span class="token" style="color: rgb(171, 227, 56);">src</span><span class="token attr-equals" style="color: rgb(254, 254, 254);">=</span><span class="token" style="color: rgb(254, 254, 254);">"</span><span class="token" style="color: rgb(255, 215, 0);">https://cdn.jsdelivr.net/npm/chart.js</span><span class="token" style="color: rgb(254, 254, 254);">"</span><span class="token" style="color: rgb(254, 254, 254);">&gt;</span><span class="token" style="color: rgb(254, 254, 254);">&lt;/</span><span class="token" style="color: rgb(255, 160, 122);">script</span><span class="token" style="color: rgb(254, 254, 254);">&gt;</span></code></div></pre>
<p>Next, prepare the data for the graph and create it:</p>
<pre class="scrollbar-thin scrollbar-thumb-[#33435a] scrollbar-track-[#1f2937]"><div style="color: rgb(248, 248, 242); background: rgb(43, 43, 43); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto; border-radius: 0.3em;"><code class="language-javascript" style="color: rgb(248, 248, 242); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token" style="color: rgb(0, 224, 224);">function</span><span> </span><span class="token" style="color: rgb(255, 215, 0);">createTemperatureGraph</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>    </span><span class="token" style="color: rgb(0, 224, 224);">var</span><span> ctx </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> </span><span class="token dom" style="color: rgb(0, 224, 224);">document</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">getElementById</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">'temperatureChart'</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">getContext</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">'2d'</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span><span>    </span><span class="token" style="color: rgb(0, 224, 224);">var</span><span> tempData </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> </span><span class="token known-class-name class-name">JSON</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">parse</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token dom" style="color: rgb(0, 224, 224);">localStorage</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">getItem</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(171, 227, 56);">'temperatureData'</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">||</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">[</span><span class="token" style="color: rgb(254, 254, 254);">]</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span>    
<span>    </span><span class="token" style="color: rgb(0, 224, 224);">var</span><span> labels </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> tempData</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">map</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(0, 224, 224);">function</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token parameter">entry</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span> </span><span class="token control-flow" style="color: rgb(0, 224, 224);">return</span><span> entry</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token property-access">time</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span><span>    </span><span class="token" style="color: rgb(0, 224, 224);">var</span><span> data </span><span class="token" style="color: rgb(0, 224, 224);">=</span><span> tempData</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token method property-access" style="color: rgb(255, 215, 0);">map</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token" style="color: rgb(0, 224, 224);">function</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span class="token parameter">entry</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span> </span><span class="token control-flow" style="color: rgb(0, 224, 224);">return</span><span> entry</span><span class="token" style="color: rgb(254, 254, 254);">.</span><span class="token property-access">value</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span>
<span>    </span><span class="token" style="color: rgb(0, 224, 224);">new</span><span> </span><span class="token class-name">Chart</span><span class="token" style="color: rgb(254, 254, 254);">(</span><span>ctx</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>        </span><span class="token literal-property" style="color: rgb(255, 160, 122);">type</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(171, 227, 56);">'line'</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span> </span><span class="token" style="color: rgb(212, 208, 171);">// or 'bar', 'radar', etc.</span><span>
</span><span>        </span><span class="token literal-property" style="color: rgb(255, 160, 122);">data</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>            </span><span class="token literal-property" style="color: rgb(255, 160, 122);">labels</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> labels</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span>
</span><span>            </span><span class="token literal-property" style="color: rgb(255, 160, 122);">datasets</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">[</span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>                </span><span class="token literal-property" style="color: rgb(255, 160, 122);">label</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(171, 227, 56);">'Temperature over Time'</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span>
</span><span>                </span><span class="token literal-property" style="color: rgb(255, 160, 122);">data</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> data</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span>
</span><span>                </span><span class="token literal-property" style="color: rgb(255, 160, 122);">borderColor</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(171, 227, 56);">'blue'</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span>
</span><span>                </span><span class="token literal-property" style="color: rgb(255, 160, 122);">borderWidth</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(0, 224, 224);">1</span><span>
</span><span>            </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span class="token" style="color: rgb(254, 254, 254);">]</span><span>
</span><span>        </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span>
</span><span>        </span><span class="token literal-property" style="color: rgb(255, 160, 122);">options</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>            </span><span class="token literal-property" style="color: rgb(255, 160, 122);">scales</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>                </span><span class="token literal-property" style="color: rgb(255, 160, 122);">xAxes</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">[</span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>                    </span><span class="token literal-property" style="color: rgb(255, 160, 122);">type</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(171, 227, 56);">'time'</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span>
</span><span>                    </span><span class="token literal-property" style="color: rgb(255, 160, 122);">time</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(254, 254, 254);">{</span><span>
</span><span>                        </span><span class="token literal-property" style="color: rgb(255, 160, 122);">unit</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(171, 227, 56);">'minute'</span><span class="token" style="color: rgb(254, 254, 254);">,</span><span>
</span><span>                        </span><span class="token literal-property" style="color: rgb(255, 160, 122);">tooltipFormat</span><span class="token" style="color: rgb(0, 224, 224);">:</span><span> </span><span class="token" style="color: rgb(171, 227, 56);">'ll HH:mm'</span><span>
</span><span>                    </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span>
</span><span>                </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span class="token" style="color: rgb(254, 254, 254);">]</span><span>
</span><span>            </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span>
</span><span>        </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span>
</span><span>    </span><span class="token" style="color: rgb(254, 254, 254);">}</span><span class="token" style="color: rgb(254, 254, 254);">)</span><span class="token" style="color: rgb(254, 254, 254);">;</span><span>
</span><span></span><span class="token" style="color: rgb(254, 254, 254);">}</span></code></div></pre>
<p>Ensure you have a <code>&lt;canvas&gt;</code> element in your HTML where the chart should be displayed:</p>
<pre class="scrollbar-thin scrollbar-thumb-[#33435a] scrollbar-track-[#1f2937]"><div style="color: rgb(248, 248, 242); background: rgb(43, 43, 43); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto; border-radius: 0.3em;"><code class="language-html" style="color: rgb(248, 248, 242); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token" style="color: rgb(254, 254, 254);">&lt;</span><span class="token" style="color: rgb(255, 160, 122);">canvas</span><span class="token" style="color: rgb(255, 160, 122);"> </span><span class="token" style="color: rgb(171, 227, 56);">id</span><span class="token attr-equals" style="color: rgb(254, 254, 254);">=</span><span class="token" style="color: rgb(254, 254, 254);">"</span><span class="token" style="color: rgb(255, 215, 0);">temperatureChart</span><span class="token" style="color: rgb(254, 254, 254);">"</span><span class="token" style="color: rgb(255, 160, 122);"> </span><span class="token" style="color: rgb(171, 227, 56);">width</span><span class="token attr-equals" style="color: rgb(254, 254, 254);">=</span><span class="token" style="color: rgb(254, 254, 254);">"</span><span class="token" style="color: rgb(255, 215, 0);">400</span><span class="token" style="color: rgb(254, 254, 254);">"</span><span class="token" style="color: rgb(255, 160, 122);"> </span><span class="token" style="color: rgb(171, 227, 56);">height</span><span class="token attr-equals" style="color: rgb(254, 254, 254);">=</span><span class="token" style="color: rgb(254, 254, 254);">"</span><span class="token" style="color: rgb(255, 215, 0);">200</span><span class="token" style="color: rgb(254, 254, 254);">"</span><span class="token" style="color: rgb(254, 254, 254);">&gt;</span><span class="token" style="color: rgb(254, 254, 254);">&lt;/</span><span class="token" style="color: rgb(255, 160, 122);">canvas</span><span class="token" style="color: rgb(254, 254, 254);">&gt;</span></code></div></pre>
<p>Call <code>createTemperatureGraph()</code> when you want to display or update the graph, such as after receiving new temperature data or when loading the page.</p>
<h3>Additional Notes</h3>
<ul>
<li>You may need to manage the size of the stored data to prevent exceeding local storage limits or to keep the graph manageable. Consider implementing a strategy to limit the number of data points stored.</li>
<li>Make sure to parse dates and values as needed, especially when displaying them on the graph.</li>
<li>Adjust the chart options according to your needs. Chart.js offers a wide range of customization options for appearance and behavior.</li>
</ul></div></div></div>
