<!-- 
Copyright 2023 Dirk Luberth Dijkman Bangert 30 1619GJ Andijk The Netherlands    
The Art of Time Controlled. Visual TimeSlots Schedule.
-->

<!DOCTYPE html>
<html>

<head>
  <title>ESP Web Flashing Example ESP8266 ESP32 ESP Web Tools Browser Install</title>

<script>
  document.getElementById('delete-lines-btn').addEventListener('click', deleteLines);

function deleteLines() {
    // Select all <span> elements with the class 'line'
    const lines = document.querySelectorAll('.line');
    
    // Loop through the NodeList and remove each element
    lines.forEach(function(line) {
        line.remove();
    });
}

</script>


  
  <!-- Load ESP Web Tools
  <script type="module" src="https://unpkg.com/esp-web-tools@9/dist/web/install-button.js?module"></script>
 -->
 <script type="module" src="ESP_Web_Tools/install-button.js?module"></script>
  
  <style>
button::before {
    content: " ";
    position: absolute;
    inset: 0px;
    opacity: 0.2;
    border-radius: 4px;
}

button {
    position: relative;
    cursor: pointer;
    font-size: 14px;
    padding: 8px 28px;
    color: var(--esp-tools-button-text-color, #fff);
    background-color: var(--esp-tools-button-color, #03a9f4);
    border: none;
    border-radius: 4px;
    box-shadow: rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 3px 1px -2px, rgba(0, 0, 0, 0.2) 0px 1px 5px 0px;
}
    </style>
  <!-- Place this tag in your head or just before your close body tag -->
<script async defer src="https://buttons.github.io/buttons.js"></script>



</head>

<body>
  <center>
</center>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('lastUpdated').textContent = document.lastModified;
    });
</script>

 last update: <span id="lastUpdated"></span><br>

  Just want to simple switch devices on a time, Easy, Simple, Me No Home Assistant Nerd. ServerLess Home Automation?<br>
  Each ESP device its own webserver, and a mDNS scan linked list, lists all other mDNS devices in the network<br>
  <center>
     <!-- Place this tag where you want the button to render -->
<a class="github-button" href="https://github.com/ldijkman/async-esp-fs-webserver" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star ldijkman/async-esp-fs-webserver on GitHub">Star</a>

    <h1>Flash Your 4mb ESP8266 / 4mb ESP32 Device</h1>
    program Your 4mb ESP8266 / 4mb ESP32 Device?<br>
    <br>

    installs a espasyncwebserver with Filesystembrowser Ace Editor and a demo html visual timeslot scheduler<br>
    you can edit/change the files easy on the ESP webserver with the built in editor /edit<br>
    and create / change / upload / delete files on the ESP webserver easy<br>

    <br>
    arduino ino source https://github.com/ldijkman/async-esp-fs-webserver/blob/master/docs/simpleServerwithwebsocket.ino<br>
  
    <br>
    <p style="border:3px solid greenyellow;"><br>
      install from PC Chromium based Browsers, Google Chrome Chromium , Edge Chromium, Opera Chromium.<br>
      <span style="color: red;">Close all open serial monitor connections?</span><br>
      <br>
      <!-- ESP Web Install Button -->
      Dev. boards with ESP32 4Mb <br>
      
      <esp-web-install-button manifest="https://ldijkman.github.io/async-esp-fs-webserver/manifest_ESP32.json">
          <button slot="activate">Connect & Install on 4Mb ESP32</button>
          <span style="color: red; font-size: 24px; font-weight: bold;" slot="unsupported">Ah Damn, your browser doesn't work! <br>Open this Page in a Chromium Based PC Browser!<br>and an Connect Install button will be here!</span>
          <span style="color: red; font-size: 24px; font-weight: bold;" slot="not-allowed">Ah Damn, you are not allowed to use this on HTTP!</span>
       </esp-web-install-button><br>
      <br>
      <span id="fileDate11">Fetching...</span><br>
      <span id="fileDate22">Fetching...</span><br>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const owner = 'ldijkman';
    const repo = 'async-esp-fs-webserver';
    const filePath = 'docs/simpleServerwithwebsocket.ino.bin';

    // GitHub API endpoint for commits affecting the specified file
    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/commits?path=${filePath}`;

    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            if (data.length > 0) {
                // The date of the last commit affecting the file
                const lastCommitDate = new Date(data[0].commit.committer.date);
                // Format date and time
                const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit', timeZoneName: 'short' };
                const formattedDateTime = lastCommitDate.toLocaleDateString('en-US', options);
                document.getElementById('fileDate11').textContent = `Firmware Last Updated: ${formattedDateTime}`;
            } else {
                document.getElementById('fileDate11').textContent = `Last Updated: No updates found for ${filePath}.`;
            }
        })
        .catch(error => {
            console.error('Error fetching file date:', error);
            document.getElementById('fileDate11').textContent = `Last Updated: Failed to fetch date for ${filePath}.`;
        });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const owner = 'ldijkman';
    const repo = 'async-esp-fs-webserver';
    const filePath = 'docs/feb10a.littlefs.bin';

    // GitHub API endpoint for commits affecting the specified file
    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/commits?path=${filePath}`;

    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            if (data.length > 0) {
                // The date of the last commit affecting the file
                const lastCommitDate = new Date(data[0].commit.committer.date);
                // Format date and time
                const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit', timeZoneName: 'short' };
                const formattedDateTime = lastCommitDate.toLocaleDateString('en-US', options);
                document.getElementById('fileDate22').textContent = `LittleFS Last Updated: ${formattedDateTime}`;
            } else {
                document.getElementById('fileDate22').textContent = `Last Updated: No updates found for ${filePath}.`;
            }
        })
        .catch(error => {
            console.error('Error fetching file date:', error);
            document.getElementById('fileDate22').textContent = `Last Updated: Failed to fetch date for ${filePath}.`;
        });
});
</script>
      <br>
    </p>
    <br><br>
    <p style="border:3px solid orange;"><br>
      install from PC Chromium based Browsers, Google Chrome Chromium , Edge Chromium, Opera Chromium.<br>
      <span style="color: red;">Close all open serial monitor connections?</span><br>
      <br>
      <!-- ESP Web Install Button -->
      Dev. boards with ESP8266 4Mb 12E/12F<br>
      <esp-web-install-button manifest="https://ldijkman.github.io/async-esp-fs-webserver/manifest_ESP8266.json">
      
        <button slot="activate">Connect & Install on 4Mb ESP8266 12E / 12F</button>
  <span style="color: red; font-size: 24px; font-weight: bold;" slot="unsupported">Ah Damn, your browser doesn't work!Open this Page in a Chromium Based PC Browser!<br>and an Connect Install button will be here!</span>
  <span style="color: red; font-size: 24px; font-weight: bold;" slot="not-allowed">Ah snap, you are not allowed to use this on HTTP!</span>
  
      </esp-web-install-button><br>
      <br>
   
        <span id="fileDate1">Fetching...</span><br>
         <span id="fileDate2">Fetching...</span><br>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const owner = 'ldijkman';
    const repo = 'async-esp-fs-webserver';
    const filePath = 'docs/simpleServerwithwebsocket_esp8266.ino.bin';

    // GitHub API endpoint for commits affecting the specified file
    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/commits?path=${filePath}`;

    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            if (data.length > 0) {
                // The date of the last commit affecting the file
                const lastCommitDate = new Date(data[0].commit.committer.date);
                // Format date and time
                const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit', timeZoneName: 'short' };
                const formattedDateTime = lastCommitDate.toLocaleDateString('en-US', options);
                document.getElementById('fileDate1').textContent = `Firmware Last Updated: ${formattedDateTime}`;
            } else {
                document.getElementById('fileDate1').textContent = `Last Updated: No updates found for ${filePath}.`;
            }
        })
        .catch(error => {
            console.error('Error fetching file date:', error);
            document.getElementById('fileDate1').textContent = `Last Updated: Failed to fetch date for ${filePath}.`;
        });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const owner = 'ldijkman';
    const repo = 'async-esp-fs-webserver';
    const filePath = 'docs/ESP8266_feb10a.mklittlefs.bin';

    // GitHub API endpoint for commits affecting the specified file
    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/commits?path=${filePath}`;

    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            if (data.length > 0) {
                // The date of the last commit affecting the file
                const lastCommitDate = new Date(data[0].commit.committer.date);
                // Format date and time
                const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit', timeZoneName: 'short' };
                const formattedDateTime = lastCommitDate.toLocaleDateString('en-US', options);
                document.getElementById('fileDate2').textContent = `LittleFS Last Updated: ${formattedDateTime}`;
            } else {
                document.getElementById('fileDate2').textContent = `Last Updated: No updates found for ${filePath}.`;
            }
        })
        .catch(error => {
            console.error('Error fetching file date:', error);
            document.getElementById('fileDate2').textContent = `Last Updated: Failed to fetch date for ${filePath}.`;
        });
});
</script>

      <br>
      it works but:<br>
      wifiscan and switch from AP to Station is not flawless!!<br>
      if it says wifi allready connected, you wil not now the ip<br>
      reboot your ESP<br>
      and go to http://garage.local<br>
      <br>
    </p>



    
    after install <br>
    Connect PC or Phone to wifi AP Access Point "ESP32_AP1234"<br>
    <img src="wifi_connect.png" width="175px" height="175px"><br>
    connect to wifi AP Access Point "ESP32_AP1234"<br>
    then browse to<br>
    <a href="http://8.8.8.8/setup" target="_blank">http://8.8.8.8/setup</a><br>
    And configure The ESP howto connect to your wifi router<br>
    <a href="http://8.8.8.8/edit" target="_blank">http://8.8.8.8/edit</a><br>
    <br>
    if you have connected to the network<br>
    and mDNS name is garage<br>
    <a href="http://garage.local/setup" target="_blank">http://garage.local/setup</a><br>
    <a href="http://garage.local/edit" target="_blank">http://garage.local/edit</a><br>
    <a href="http://garage.local/index.html" target="_blank">http://garage.local/index.html</a><br>
    might work
    <br><br>
    or watch / lookup  mDNS name and ip link, clickable in web serial terminal<br>
    <a href="https://ldijkman.github.io/async-esp-fs-webserver/WebSerialMonitor.html" target="_blank">https://ldijkman.github.io/async-esp-fs-webserver/WebSerialMonitor.html</a><br>
    <br>
    <center>

     <br><br><br>
      <h1>Flash 4mb ESP32 from Browser</h1><br>
      <iframe width="640" height="480" src="https://www.youtube.com/embed/jqXlJuNNpxE?rel=0" title="Flash ESP32 4mb mdns webserver scheduler online inBrowser" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      <br><br><br><br>

      <br>
      <h1>Flash 4mb ESP8266 12E / 12F from Browser</h1><br>
      <iframe width="640" height="480"  src="https://www.youtube.com/embed/VG4Q86ob8IQ?rel=0" title="Flash 4mb ESP8266 12E /12F from browser witch webserver filebrowser Ace editor" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      <br><br></br>
<style>
    .video-pair {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
    }

    .video {
        flex: 1;
        max-width: 320px; /* Matches the iframe width */
        box-sizing: border-box;
        padding: 10px; /* Adjusts spacing between videos */
        text-align: center;
    }

    @media (max-width: 660px) {
        .video-pair {
            flex-direction: column;
            align-items: center;
        }
    }
</style>
<center>
    <!-- First pair of videos -->
    <div class="video-pair">
        <div class="video">
            <iframe width="320" height="240" src="https://www.youtube.com/embed/epnAWMtlQu4?rel=0" title="ESP8266 webserver  browser serial monitor console log inspect websockets" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            <p>console, serialmonitor, inspect network WS</p>
        </div>
        --
        <div class="video">
            <iframe width="320" height="240" src="https://www.youtube.com/embed/AZR5SOFe5-8?rel=0" title="ESP8266 WebServer webserial monitor in browser find ip and mdns adres" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            <p>Chromium inBrowser webserial monitor</p>
        </div>
    </div>
    
    <!-- Second pair of videos -->
    <div class="video-pair">
        <div class="video">
            <iframe width="320" height="240" src="https://www.youtube.com/embed/1J_wVUORrPc?rel=0" title="ESP8266 Webserver Ace Editor changed version" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            <p>Ace home toggle theme fontsize</p>
        </div>
        --
        <div class="video">
            <iframe width="320" height="240" src="https://www.youtube.com/embed/1A_sA4RYbuw?rel=0" title="ESP8266 Webserver move drag Ace editor search replace" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            <p>Ace move drag search replace<br>Beat that MS VS Monaco<br>Beat that Arduino Monaco IDE2</p>
        </div>
    </div>
</center>


<center>
     <!-- <img src="http://aicode.great-site.net/counter.php?counter=flasher"> -->
  
some 4mb ESP8266 12E/12F // 4mb ESP32 Wroom dev. boards<br>
    <img src="ESP.jpg" width="40%"><br>
 some 4mb ESP8266 12E/12F // 4mb ESP32 Wroom dev. boards<br>
  
    <br><br><br><br> <br><br>
  </center>
    /*
    <!-- 
Copyright 2023 Dirk Luberth Dijkman Bangert 30 1619GJ Andijk The Netherlands    
The Art of Time Controlled. Visual TimeSlots Schedule.
-->
    */







<!-- 
      Post-Flash Instructions Section (Initially Hidden) 
  <div id="postFlashInstructions" style="display: none; margin-top: 20px;">
    <h2>Next Steps After Flashing</h2>
    <ol>
      <li>Connect your computer or smartphone to the ESP device's WiFi AccesPoint (look for "ESP32-API1234" network).</li>
      <li>Open a web browser and navigate to <a href="http://8.8.8.8/setup">http://8.8.8.8/setup</a> to access the configuration page.</li>
      <li>Follow the on-screen instructions to connect your ESP device to your home WiFi network.</li>
    </ol>
    <p>If you encounter any issues, please refer to the troubleshooting section or contact Microsoft ;-).</p>
     <br><br><br>  <br><br><br>  <br><br><br>
  </div>

  <script>
    // Example function that simulates revealing the post-flash instructions after a successful flash
    function onFlashSuccess() {
      document.getElementById('postFlashInstructions').style.display = 'block';
      // Optionally, scroll to the instructions section
      document.getElementById('postFlashInstructions').scrollIntoView({ behavior: 'smooth' });
    }

    // Simulate the onFlashSuccess function call (you should call this when the flashing process is confirmed successful)
    // For demonstration purposes, we'll call it after the DOM is fully loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Simulating successful flash after 3 seconds (replace with actual success callback from ESP Web Tools)
      setTimeout(onFlashSuccess, 3000);
    });
  </script>

 




-->








      

       <script src="https://ldijkman.github.io/async-esp-fs-webserver/foother.js"></script>



      <script>

document.addEventListener('DOMContentLoaded', function() {
    const owner = 'ldijkman';
    const repo = 'async-esp-fs-webserver';
    const filePaths = [
        { path: 'docs/simpleServerwithwebsocket.ino.bin', elementId: 'fileDate11' },
        { path: 'docs/feb10a.littlefs.bin', elementId: 'fileDate22' },
        { path: 'docs/simpleServerwithwebsocket_esp8266.ino.bin', elementId: 'fileDate1' },
        { path: 'docs/ESP8266_feb10a.mklittlefs.bin', elementId: 'fileDate2' }
    ];

    filePaths.forEach(file => {
        const apiUrl = `https://api.github.com/repos/${owner}/${repo}/commits?path=${file.path}`;

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                if (data.length > 0) {
                    const lastCommitDate = new Date(data[0].commit.committer.date);
                    document.getElementById(file.elementId).textContent += ` Last Updated: ${formatDateDifference(lastCommitDate)} ago.`;
                } else {
                    document.getElementById(file.elementId).textContent += ` Last Updated: No updates found for ${file.path}.`;
                }
            })
            .catch(error => {
                console.error('Error fetching file date:', error);
                document.getElementById(file.elementId).textContent += ` Last Updated: Failed to fetch date for ${file.path}.`;
            });
    });
});

// Function to calculate and format the date difference
function formatDateDifference(date) {
    const now = new Date();
    const diffTime = Math.abs(now - date);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

    if (diffDays < 30) {
        return `${diffDays} day(s)`;
    } else if (diffDays < 365) {
        return `${Math.floor(diffDays / 30)} month(s)`;
    } else {
        return `${Math.floor(diffDays / 365)} year(s)`;
    }
}
        
      </script>



      
</body>

</html>
