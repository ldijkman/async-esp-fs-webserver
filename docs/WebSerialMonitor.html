<!-- 
Dirk luberth Dijkman's  version of
https://github.com/GoogleChromeLabs/serial-terminal
-->

<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      padding: 0;
      margin: 0;
    }

    /* Dark theme styles */
@media (prefers-color-scheme: dark) {
  body {
    background-color: #121212; /* Almost black */
    color: #ffffff; /* White */
  }
}
    
    * {
      box-sizing: border-box;
    }
    #terminal {
      height: 80vh;
      padding:20px;
    }
    .options {
      padding: 0.75em;
    }
    .info {
      float: right;
    }
    #connect {
      margin-right: 2em;
    }
    label.checkbox {
      margin-right: 1em;
    }

  </style>
  <script type="module" crossorigin src="https://googlechromelabs.github.io/serial-terminal/assets/index.15524ea3.js"></script>
  <link rel="stylesheet" href="WebSerialXTerm.css">
  <link rel="manifest" href="https://googlechromelabs.github.io/serial-terminal/manifest.webmanifest">
  <script id="vite-plugin-pwa:register-sw" src="https://googlechromelabs.github.io/serial-terminal/registerSW.js"></script>
<style>
.xterm {
      padding: 20px; /* want a bit of spavce on left side */
}
 .xterm .xterm-viewport a {
    color: #00ff00; /* Bright green */
    text-decoration: underline;
} 
</style>
   <script type="module" src="https://ldijkman.github.io/async-esp-fs-webserver/ESP_Web_Tools/install-button.js?module"></script>
  
</head>
<body>
<div class="options">
  <label for="ports">Port:</label>
  <select id="ports">
    <option value="prompt">Click 'Connect' to add a port...</option>
  </select>
  <button id="connect">Connect</button>

  <button id="download">Download output</button>
  <button id="clear">Clear output</button>

  <div class="info">
    <a id="polyfill_switcher"></a>
  </div>

  <br>

  <label for="baudrate">Baud rate:</label>
  <select id="baudrate">
    <option value="9600">9600</option>
    <option value="14400">14400</option>
    <option value="19200">19220</option>
    <option value="28800">28800</option>
    <option value="38400">38400</option>
    <option value="57600">57600</option>
    <option value="115200" selected>115200</option>
    <option value="230400">230400</option>
    <option value="460800">460800</option>
    <option value="921600">921600</option>
    <option value="custom">Custom</option>
  </select>
  <input id="custom_baudrate" type="number" min="1" placeholder="Enter baudrate..." hidden>
  <label for="databits">Data bits:</label>
  <select id="databits">
    <option value="7">7</option>
    <option value="8" selected>8</option>
  </select>
  <label for="parity">Parity:</label>
  <select id="parity">
    <option value="none" selected>None</option>
    <option value="even">Even</option>
    <option value="odd">Odd</option>
  </select>
  <label for="stopbits">Stop bits:</label>
  <select id="stopbits">
    <option value="1" selected>1</option>
    <option value="2">2</option>
  </select>
  <input id="rtscts" type="checkbox" checked>
  <label for="rtscts">Hardware flow control</label>

  <br>

  <input id="echo" type="checkbox" checked>
  <label class="checkbox" for="echo">Local echo</label>
  <input id="enter_flush" type="checkbox" checked>
  <label class="checkbox" for="enter_flush">Flush on enter</label>
  <input id="convert_eol" type="checkbox" checked>
  <label class="checkbox" for="convert_eol">Convert EOL</label>
  <input id="autoconnect" type="checkbox">
  <label class="checkbox" for="autoconnect">Automatically connect</label>
  <br>
    <font style="color: green;">Links in Terminal are Clickable!  <font style="color: orange;">(links should have an offset color)</font></font><br>
  <div class="info">
    <a href="https://github.com/GoogleChromeLabs/serial-terminal" target="_blank">GoogleChromeLabs</a><br>
    <a href="https://github.com/ldijkman/async-esp-fs-webserver/blob/master/docs/WebSerialMonitor.html" target="_blank">This Terminal Source</a>
  </div>
</div>
 <esp-web-install-button manifest="https://ldijkman.github.io/async-esp-fs-webserver/both.json">
          <button slot="activate">Flash 4mb ESP8266 / ESP32</button>
          <span style="color: red; font-size: 24px; font-weight: bold;" slot="unsupported">Ah Damn, your browser doesn't work! <br>Open this Page in a Chromium Based PC Browser!<br>and an Connect Install button will be here!</span>
          <span style="color: red; font-size: 24px; font-weight: bold;" slot="not-allowed">Ah Damn, you are not allowed to use this on HTTP!</span>
       </esp-web-install-button><br>
<div id="terminal"></div>

  
<!-- Floating Div for GitHub Links, Serial Monitor, and Flash Tool -->
<script src="foother.js"></script>
   
  <script src="https://ldijkman.github.io/Ace_Seventh_Heaven/console.js"></script>
  
  <script>
      // want to change the link color
      // no luck yet
  setTimeout(function() {
    console.info("Greet Luberth");
    console.warn("https://github.com/xtermjs/xterm.js/discussions/4967");
     console.info("Please Help!?");
    console.info("Do you have the Knowledge how to color the Links");
    console.error("Links are Clickable!");
}, 5000); // Delay is in milliseconds, so 5000 ms is equal to 5 seconds

  </script>
  
</body>
</html>
